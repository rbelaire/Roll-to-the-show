import { GameState } from './GameState' import { DiceOutcome } from './dice/DiceOutcome' import { baseDiceTable } from './dice/baseDiceTable' import { rollDice } from './dice/rollDice' import { applyOutcome } from './rules/applyOutcome'  export type AtBatResult = {   outcome: DiceOutcome   nextState: GameState }  // Executes one at-bat: roll dice, apply outcome, return result. export function playAtBat(state: GameState): AtBatResult {   if (state.gameOver) {     return {       outcome: {         type: 'strikeout',         weight: 0,         description: 'Game over.'       },       nextState: state     }   }    const outcome = rollDice(baseDiceTable)   const nextState = applyOutcome(state, outcome)    return { outcome, nextState } }

